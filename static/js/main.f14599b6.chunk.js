(this["webpackJsonpwaveaccess-test"]=this["webpackJsonpwaveaccess-test"]||[]).push([[0],{16:function(e,a,t){e.exports={CarListWrapper:"CarList_CarListWrapper__5bl5P"}},55:function(e,a,t){},62:function(e,a,t){"use strict";t.r(a);t(28),t(29);var c,r,s=t(0),n=t.n(s),l=t(14),i=t.n(l),d=(t(55),t(4)),o=t(16),b=t.n(o),j=t(1),m=function(e){e.id;var a=e.carName,t=e.carArrivalDate,c=e.carProblem,r=e.onClick;return Object(j.jsxs)("div",{className:"card m-3",style:{width:"100%"},children:[Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:a}),Object(j.jsx)("p",{className:"card-text",children:c}),Object(j.jsx)("button",{className:"btn btn-primary",onClick:r,children:"Done!"})]}),Object(j.jsx)("div",{className:"card-footer text-muted",children:Object(j.jsxs)("span",{children:["Arrived: ",t]})})]})},u=t(9);!function(e){e.addCar="ADD_CAR",e.removeCar="REMOVE_CAR"}(c||(c={})),function(e){e.clearCars="CLEAR_CARS",e.completeCar="COMPLETE_CAR"}(r||(r={}));var v=t(11),O=t(25),h=function(e){return JSON.parse(localStorage.getItem(e)||"{}")},p=function(e,a){var t=JSON.stringify(a);localStorage.setItem(e,t)},x=function(){var e=h("active");return e.cars.length?e.cars[e.cars.length-1].id+1:0},f=Object(u.b)(null,(function(e){return{addCar:function(a){return e({type:c.addCar,payload:a})}}}))((function(e){var a=e.addCar,t=Object(s.useState)(""),c=Object(O.a)(t,2),r=c[0],n=c[1],l=Object(s.useState)(""),i=Object(O.a)(l,2),d=i[0],o=i[1],b=function(e){switch(e.target.id){case"carNameInput":n(e.target.value);break;case"carProblemTextArea":o(e.target.value)}};return Object(j.jsx)("div",{className:"modal fade",id:"modal",tabIndex:-1,"aria-labelledby":"modalLabel","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",id:"modalLabel",children:"Add New Car"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"modal-body",children:Object(j.jsxs)("form",{className:"column g-3 needs-validation",id:"addCarForm",children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"carNameInput",className:"form-label",children:"Car name:"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"carNameInput",placeholder:"Car name",value:r,onChange:b,required:!0})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"carProblemTextArea",className:"form-label",children:"Car problem:"}),Object(j.jsx)("textarea",{className:"form-control",id:"carProblemTextArea",rows:4,value:d,onChange:b,required:!0})]})]})}),Object(j.jsxs)("div",{className:"modal-footer",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"submit",form:"addCarForm",className:"btn btn-success","data-bs-dismiss":r&&d?"modal":null,onClick:function(){var e={id:x(),carArrivalDate:(new Date).toDateString(),carName:r,carProblem:d},t=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(t).forEach((function(e){e.addEventListener("submit",(function(a){e.checkValidity()||(a.preventDefault(),a.stopPropagation()),e.classList.add("was-validated")}),!1)})),r&&d&&(a(e),n(""),o(""))},children:"Add"})]})]})})})})),C=t(3),g=function(){var e=Object(C.f)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("header",{className:"sticky-top",children:Object(j.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark p-3",children:[Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("span",{className:"navbar-brand",children:"Car Service"}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(j.jsxs)("div",{className:"navbar-nav",children:[[{to:"/waveaccess-test/active",linkText:"Active"},{to:"/waveaccess-test/completed",linkText:"Completed"}].map((function(a){return Object(j.jsx)(v.b,{className:"nav-link ".concat(a.to===e.pathname?"active":""),to:a.to,children:a.linkText},a.linkText)})),Object(j.jsx)("button",{className:"btn btn-success","data-bs-toggle":"modal","data-bs-target":"#modal",children:"Add new car"})]})})]})}),Object(j.jsx)(f,{})]})},N=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g,{}),e.children]})},y=Object(u.b)((function(e){return{cars:e.activeCars.cars,completedCars:e.completedCars.cars}}),(function(e){return{completeCar:function(a){e({type:c.removeCar,payload:a}),e({type:r.completeCar,payload:Object(d.a)(Object(d.a)({},a),{},{carCompleteDate:(new Date).toDateString()})})}}}))((function(e){var a=e.cars,t=e.completedCars,c=e.completeCar;return Object(s.useEffect)((function(){console.log("setLocalStorage"),p("active",{cars:a}),p("completed",{cars:t})}),[a,t]),Object(j.jsx)(N,{children:Object(j.jsx)("div",{className:b.a.CarListWrapper,children:a.length?Object(j.jsx)(j.Fragment,{children:a.map((function(e){return Object(j.jsx)(m,Object(d.a)(Object(d.a)({},e),{},{onClick:function(){return c(e)}}),e.id)}))}):Object(j.jsx)("h2",{children:"Add an active car to show it here"})})})})),A=function(e){var a=e.carArrivalDate,t=(e.id,e.carCompleteDate),c=e.carName,r=e.carProblem;return Object(j.jsxs)("div",{className:"card m-3",style:{width:"100%"},children:[Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:c}),Object(j.jsx)("p",{className:"card-text",children:r})]}),Object(j.jsxs)("div",{className:"card-footer text-muted",children:[Object(j.jsxs)("span",{children:["Arrived: ",a]}),Object(j.jsx)("br",{}),Object(j.jsxs)("span",{children:["Done: ",t]})]})]})},w=Object(u.b)((function(e){return{cars:e.completedCars.cars,activeCars:e.activeCars.cars}}),(function(e){return{clearCars:function(){return e({type:r.clearCars})}}}))((function(e){var a=e.cars,t=e.activeCars,c=e.clearCars;return Object(s.useEffect)((function(){console.log("setLocalStorage"),p("active",{cars:t}),p("completed",{cars:a})}),[a,t]),Object(j.jsx)(N,{children:Object(j.jsx)("div",{className:b.a.CarListWrapper,children:a.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:"btn btn-danger",onClick:c,children:"Clear all cars"}),a.map((function(e){return Object(j.jsx)(A,Object(d.a)({},e),e.id)}))]}):Object(j.jsx)("h2",{children:"There is no completed cars"})})})}));var k=function(){return Object(j.jsxs)(v.a,{children:[Object(j.jsx)(C.a,{from:"/waveaccess-test/",to:"/waveaccess-test/active"}),Object(j.jsx)(C.b,{path:"/waveaccess-test/active",exact:!0,children:Object(j.jsx)(y,{})}),Object(j.jsx)(C.b,{path:"/waveaccess-test/completed",exact:!0,children:Object(j.jsx)(w,{})})]})},D=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,63)).then((function(a){var t=a.getCLS,c=a.getFID,r=a.getFCP,s=a.getLCP,n=a.getTTFB;t(e),c(e),r(e),s(e),n(e)}))},L=t(19),S=t(18);h("active").cars||p("active",{cars:[]});var F=h("active");h("completed").cars||p("completed",{cars:[]});var T=h("completed"),P=Object(L.a)({activeCars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.addCar:return Object(d.a)(Object(d.a)({},e),{},{cars:[].concat(Object(S.a)(e.cars),[a.payload])});case c.removeCar:var t=e.cars;return t=t.filter((function(e){return e.id!==a.payload.id})),Object(d.a)(Object(d.a)({},e),{},{cars:t});default:return e}},completedCars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.clearCars:var t=Object(d.a)(Object(d.a)({},e),{},{cars:[]});return t;case r.completeCar:var c=Object(d.a)(Object(d.a)({},e),{},{cars:[].concat(Object(S.a)(e.cars),[a.payload])});return c;default:return e}}}),E=Object(L.b)(P);i.a.render(Object(j.jsx)(u.a,{store:E,children:Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(k,{})})}),document.getElementById("root")),D()}},[[62,1,2]]]);
//# sourceMappingURL=main.f14599b6.chunk.js.map